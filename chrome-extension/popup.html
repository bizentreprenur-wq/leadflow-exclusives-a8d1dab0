<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BamLead</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="logo">
        <span class="logo-icon">ğŸ¯</span>
        <span class="logo-text">BamLead</span>
      </div>
      <div class="status" id="status">
        <span class="status-dot"></span>
        <span class="status-text">Ready</span>
      </div>
    </header>

    <main class="main">
      <!-- Current Page Info -->
      <section class="section">
        <h3 class="section-title">Current Page</h3>
        <div class="page-info" id="pageInfo">
          <div class="page-url" id="pageUrl">Loading...</div>
        </div>
      </section>

      <!-- Lead Search -->
      <section class="section">
        <h3 class="section-title">ğŸ” Search for Leads</h3>
        <div class="search-module">
          <input type="text" id="searchService" class="search-input" placeholder="Service (e.g. Plumber, Dentist)" />
          <input type="text" id="searchLocation" class="search-input" placeholder="City or ZIP (e.g. Miami, FL)" />
          <div class="search-options">
            <label class="search-checkbox-label">
              <input type="checkbox" id="searchNoWebsite" /> No website only
            </label>
            <select id="searchLimit" class="search-select">
              <option value="25">25 leads</option>
              <option value="50">50 leads</option>
              <option value="100" selected>100 leads</option>
              <option value="200">200 leads</option>
            </select>
          </div>
          <button class="action-btn primary" id="searchLeadsBtn">
            <span class="btn-icon">ğŸš€</span>
            Search Leads
          </button>
          <div class="search-status" id="searchStatus" style="display:none;">
            <div class="search-progress-bar"><div class="search-progress-fill" id="searchProgressFill"></div></div>
            <span class="search-progress-text" id="searchProgressText">Searching...</span>
          </div>
          <div class="search-results-summary" id="searchResultsSummary" style="display:none;"></div>
        </div>
      </section>

      <!-- Quick Actions -->
      <section class="section">
        <h3 class="section-title">Quick Actions</h3>
        <div class="actions">
          <button class="action-btn primary" id="extractBtn">
            <span class="btn-icon">ğŸ”</span>
            Extract Contacts
          </button>
          <button class="action-btn" id="analyzeBtn">
            <span class="btn-icon">ğŸ“Š</span>
            Analyze Website
          </button>
          <button class="action-btn" id="highlightBtn">
            <span class="btn-icon">ğŸ–ï¸</span>
            Highlight Contacts on Page
          </button>
          <button class="action-btn" id="saveBtn">
            <span class="btn-icon">ğŸ’¾</span>
            Save as Lead
          </button>
        </div>
      </section>

      <!-- Bulk Import -->
      <section class="section">
        <h3 class="section-title">Bulk Import</h3>
        <div class="bulk-import-area">
          <textarea id="bulkUrlsInput" class="bulk-textarea" placeholder="Paste URLs here (one per line)&#10;https://example.com&#10;https://another-site.com" rows="4"></textarea>
          <div class="bulk-controls">
            <span class="bulk-count" id="bulkCount">0 URLs</span>
            <button class="action-btn primary" id="bulkExtractBtn">
              <span class="btn-icon">âš¡</span>
              Bulk Extract
            </button>
          </div>
          <div class="bulk-progress" id="bulkProgress" style="display:none;">
            <div class="bulk-progress-bar"><div class="bulk-progress-fill" id="bulkProgressFill"></div></div>
            <span class="bulk-progress-text" id="bulkProgressText">0/0</span>
          </div>
      <div class="bulk-results" id="bulkResults" style="display:none;"></div>
        </div>
      </section>

      <!-- Extracted Data -->
      <section class="section" id="dataSection" style="display: none;">
        <h3 class="section-title">Extracted Data</h3>
        <div class="data-list" id="dataList"></div>
        <button class="action-btn success" id="sendToBamLead">
          <span class="btn-icon">ğŸš€</span>
          Send to BamLead
        </button>
      </section>

      <!-- Website Analysis -->
      <section class="section" id="analysisSection" style="display: none;">
        <h3 class="section-title">Website Analysis</h3>
        <div class="data-list" id="analysisList"></div>
      </section>

      <!-- Saved Leads Viewer -->
      <section class="section">
        <h3 class="section-title">Saved Leads (<span id="leadsCount">0</span>)</h3>
        <div class="leads-search-bar">
          <input type="text" id="leadsSearchInput" class="leads-search-input" placeholder="ğŸ” Search leads..." />
        </div>
        <div class="leads-viewer" id="leadsViewer">
          <div class="leads-empty" id="leadsEmpty">No leads saved yet</div>
        </div>
        <div class="leads-pagination" id="leadsPagination" style="display:none;">
          <button class="page-btn" id="prevPageBtn">â€¹</button>
          <span class="page-info" id="pageInfo2">1/1</span>
          <button class="page-btn" id="nextPageBtn">â€º</button>
        </div>
      </section>

      <!-- Export & Manage -->
      <section class="section">
        <h3 class="section-title">Export & Manage</h3>
        <div class="actions">
          <button class="action-btn export" id="exportCsvBtn">
            <span class="btn-icon">ğŸ“„</span>
            Download as CSV
          </button>
          <button class="action-btn export" id="exportPdfBtn">
            <span class="btn-icon">ğŸ“•</span>
            Download as PDF
          </button>
          <button class="action-btn" id="clearLeadsBtn">
            <span class="btn-icon">ğŸ—‘ï¸</span>
            Clear All Leads
          </button>
        </div>
      </section>

      <!-- Stats -->
      <section class="section">
        <div class="stats">
          <div class="stat">
            <span class="stat-value" id="totalLeadsCount">0</span>
            <span class="stat-label">Total Leads</span>
          </div>
          <div class="stat">
            <span class="stat-value" id="todayCount">0</span>
            <span class="stat-label">Today</span>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <a href="https://bamlead.com/dashboard" target="_blank" class="footer-link">
        Open Dashboard â†’
      </a>
      <span class="footer-sep">|</span>
      <a id="storeLink" href="https://chromewebstore.google.com/search/BamLead" target="_blank" class="footer-link store-link">
        â­ Rate Extension
      </a>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>