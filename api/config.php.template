<?php
/**
 * BamLead API Configuration Template
 * 
 * SETUP INSTRUCTIONS:
 * 1. Copy this file to config.php
 * 2. Replace ALL values marked with YOUR_*_HERE
 * 3. Never commit config.php to version control
 */

// =====================================
// DATABASE (Required)
// =====================================
define('DB_HOST', 'localhost');
define('DB_NAME', 'u497238762_bamlead');
define('DB_USER', 'u497238762_bamlead');
define('DB_PASS', 'YOUR_DATABASE_PASSWORD_HERE');

// =====================================
// SERPER.DEV (Preferred - Cheaper Google Search API)
// =====================================
define('SERPER_API_KEY', 'YOUR_SERPER_API_KEY_HERE');

// =====================================
// SERPAPI (Fallback if Serper not configured)
// =====================================
define('SERPAPI_KEY', 'YOUR_SERPAPI_KEY_HERE');

// =====================================
// JWT SECRET (Required)
// =====================================
define('JWT_SECRET', 'YOUR_32_CHAR_RANDOM_STRING_HERE');

// =====================================
// CRON SECRET (Required)
// =====================================
define('CRON_SECRET_KEY', 'YOUR_32_CHAR_RANDOM_STRING_HERE');
define('CRON_ALLOWED_IPS', ['127.0.0.1', '::1']);

// =====================================
// SMTP EMAIL (Required)
// =====================================
define('MAIL_FROM_ADDRESS', 'noreply@bamlead.com');
define('MAIL_FROM_NAME', 'BamLead');
define('MAIL_LOGO_URL', 'https://bamlead.com/favicon.png');
define('SMTP_HOST', 'smtp.hostinger.com');
define('SMTP_PORT', 465);
define('SMTP_USER', 'noreply@bamlead.com');
define('SMTP_PASS', 'YOUR_SMTP_PASSWORD_HERE');
define('SMTP_SECURE', 'ssl');
define('SMTP_DEBUG', false);
define('FRONTEND_URL', 'https://bamlead.com');

// =====================================
// STRIPE (Required for Payments)
// =====================================
define('STRIPE_SECRET_KEY', 'sk_live_YOUR_KEY_HERE');
define('STRIPE_PUBLISHABLE_KEY', 'pk_live_YOUR_KEY_HERE');
define('STRIPE_WEBHOOK_SECRET', 'whsec_YOUR_SECRET_HERE');
define('STRIPE_PRICES', [
    'basic'  => ['monthly' => 'price_BASIC_MONTHLY', 'yearly' => 'price_BASIC_YEARLY'],
    'pro'    => ['monthly' => 'price_PRO_MONTHLY', 'yearly' => 'price_PRO_YEARLY'],
    'agency' => ['monthly' => 'price_AGENCY_MONTHLY', 'yearly' => 'price_AGENCY_YEARLY'],
]);

// =====================================
// OPENAI (Required for AI Features)
// =====================================
define('OPENAI_API_KEY', 'sk-YOUR_OPENAI_KEY_HERE');

// =====================================
// GOOGLE DRIVE (Optional)
// =====================================
define('GOOGLE_DRIVE_CLIENT_ID', '');
define('GOOGLE_DRIVE_CLIENT_SECRET', '');
define('GOOGLE_DRIVE_REDIRECT_URI', 'https://bamlead.com/api/google-drive-callback.php');

// =====================================
// OPTIONAL APIS
// =====================================
define('GOOGLE_API_KEY', '');
define('GOOGLE_SEARCH_ENGINE_ID', '');
define('BING_API_KEY', '');

// =====================================
// CORS
// =====================================
define('ALLOWED_ORIGINS', [
    'https://bamlead.com',
    'https://www.bamlead.com',
    'http://localhost:5173',
]);

// =====================================
// SETTINGS (Defaults OK)
// =====================================
define('RATE_LIMIT', 30);
define('CACHE_DURATION', 300);
define('ENABLE_CACHE', true);
define('CACHE_DIR', __DIR__ . '/cache');
define('SESSION_LIFETIME', 604800);
define('TRIAL_DAYS', 14);
define('FREE_SEARCHES_PER_DAY', 5);
define('PAID_SEARCHES_PER_DAY', 100);
define('WEBSITE_TIMEOUT', 10);
define('MAX_PAGE_SIZE', 2097152);
define('RESULTS_PER_PAGE', 10);
define('DEBUG_MODE', false);
// Throttle between SerpAPI page requests (microseconds)
// Lower = faster, higher = safer vs rate limits. 50000 = 50ms.
define('SERPAPI_THROTTLE_US', 50000);
// Over-fetch multiplier when filters are active (helps hit target counts)
define('FILTER_OVERFETCH_MULTIPLIER', 3);
// Auto-expand locations when results are below the requested limit
define('ENABLE_LOCATION_EXPANSION', true);
// Maximum number of extra location variants to try
define('LOCATION_EXPANSION_MAX', 5);
// Allow widening to state-level searches (broader, less targeted)
define('LOCATION_EXPANSION_INCLUDE_STATE', false);
// Allow widening to country-level searches (very broad)
define('LOCATION_EXPANSION_INCLUDE_COUNTRY', false);

// =====================================
// SECURITY VALIDATION (Do not remove)
// =====================================
// Validate critical secrets on load in production
require_once __DIR__ . '/includes/security.php';
if (!DEBUG_MODE) {
    validateSecrets();
}
